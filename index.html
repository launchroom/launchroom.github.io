<!DOCTYPE html>
<html lang="en">
    <head>
        <style>
            * {
  box-sizing: border-box;
  font-family: "Helvetica Neue", sans-serif;
}

body {
  background-color: black;
}

.amount {
  color: #fff;
  margin: 0 auto;
  font-size: 30px;
  font-weight: 200;
}

.pre {
    margin: auto;
}

.container {
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  height: 60vh;
}

.custom {
  display: flex;
  justify-content: space-between;
  align-items: center;
  height: 100%;
}
.custom .custom-amount {
  height: 100%;
  width: 50%;
  background-color: #151515;
  border: 1px solid #151515;
  border-width: thin;
  color: #fff;
  font-size: 30px;
  font-weight: 200;
  text-align: right;
}

.radio-tile-group {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  flex-direction: column;
  height: 100%;
  margin: 40px;
}
.radio-tile-group .input-container {
  position: relative;
  height: 20%;
  width: 100%;
  margin: 5px;
}
.radio-tile-group .input-container .radio-button {
  opacity: 0;
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  width: 100%;
  margin: 0;
  cursor: pointer;
}
.radio-tile-group .input-container .radio-tile {
  display: flex;
  align-items: center;
  /* justify-content: space-between; */
  width: 100%;
  height: 100%;
  border: 2px solid #e47d46;
  border-radius: 5px;
  padding: 5px;
  transition: transform 300ms ease;
}
.radio-tile-group .input-container .icon svg {
  fill: #e47d46;
  width: 40px;
  height: 40px;
  margin: 8px auto 8px 8px;
}
.radio-tile-group .input-container .radio-tile-label {
  text-align: center;
  font-size: 13px;
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 1px;
  color: #e47d46;
}
.radio-tile-group .input-container .radio-button:checked + .radio-tile {
  background-color: #e47d46;
  border: 2px solid #e47d46;
  color: white;
  transform: scale(1.1, 1.1);
}
.radio-tile-group .input-container .radio-button:checked + .radio-tile .icon svg {
  fill: white;
  background-color: #e47d46;
}
.radio-tile-group .input-container .radio-button:checked + .radio-tile .radio-tile-label {
  color: white;
  background-color: #e47d46;
}
.radio-tile-group .input-container .radio-button:checked + .radio-tile .amount {
  color: white;
}

.title {
    font-family: 'Rock Salt', sans-serif;
    color: white;
    font-size: 3vh;
    margin-top: 40px;

}

.subtitle {
    font-family: 'Rock Salt', sans-serif;
    color: white;
    font-size: 3vh;
    font-weight: 200;
}

#smart-button-container {
    width: 60%;
    margin: auto;
   

}
        </style>
    </head>
    <body class="home">
        <div class="container">
            <!-- <div class="title heading">LaunchRoom</div> -->
            <div class="subtitle heading">
                <span>Contribution to</span>
                <span id="creatorName">...</span>
            </div>
            <div class="radio-tile-group" id="tiles">
              <div class="input-container">
                <input id="fuel" class="radio-button" type="radio" name="radio" value="10"/>
                <div class="radio-tile">
                  
                    <div class="icon fuel-icon">
                      <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <g xmlns="http://www.w3.org/2000/svg" id="surface1">
            <path d="M 19.542969 4.21875 L 21.089844 4.21875 C 21.480469 4.21875 21.792969 3.902344 21.792969 3.515625 L 21.792969 0.703125 C 21.792969 0.316406 21.480469 0 21.089844 0 L 19.542969 0 C 17.351562 0 15.292969 0.851562 13.742188 2.402344 L 11.382812 4.761719 L 11.21875 4.59375 C 10.945312 4.320312 10.5 4.320312 10.222656 4.59375 L 9.0625 5.753906 L 8.234375 4.925781 C 7.960938 4.652344 7.515625 4.652344 7.242188 4.925781 L 4.257812 7.910156 C 4.03125 8.136719 3.988281 8.492188 4.152344 8.769531 L 4.863281 9.957031 L 0.945312 13.875 C 0.667969 14.152344 0.667969 14.597656 0.945312 14.871094 L 1.773438 15.699219 L 1.03125 16.441406 C 0.367188 17.105469 0 17.988281 0 18.925781 L 0 23.296875 C 0 23.683594 0.316406 24 0.703125 24 C 1.089844 24 1.40625 23.683594 1.40625 23.296875 L 1.40625 18.925781 C 1.40625 18.363281 1.625 17.835938 2.023438 17.4375 L 2.765625 16.691406 L 4.589844 18.515625 C 5.253906 19.179688 6.136719 19.546875 7.074219 19.546875 C 8.015625 19.546875 8.898438 19.179688 9.5625 18.515625 L 15.195312 12.882812 C 15.355469 12.722656 15.429688 12.492188 15.394531 12.269531 L 14.730469 8.292969 C 14.707031 8.148438 14.636719 8.011719 14.535156 7.910156 L 14.367188 7.742188 L 16.726562 5.386719 C 17.476562 4.632812 18.480469 4.21875 19.542969 4.21875 Z M 8.566406 17.523438 C 8.167969 17.921875 7.640625 18.140625 7.074219 18.140625 C 6.511719 18.140625 5.980469 17.921875 5.582031 17.523438 L 5.085938 17.023438 L 7.699219 14.414062 L 7.699219 15.367188 C 7.699219 15.757812 8.011719 16.070312 8.402344 16.070312 C 8.789062 16.070312 9.105469 15.757812 9.105469 15.367188 L 9.105469 13.855469 L 11.191406 14.898438 Z M 12.238281 13.847656 L 8.714844 12.085938 C 8.445312 11.953125 8.117188 12.003906 7.902344 12.21875 L 4.09375 16.03125 L 2.433594 14.375 L 6.246094 10.5625 C 6.476562 10.332031 6.519531 9.980469 6.351562 9.703125 L 5.640625 8.515625 L 7.738281 6.417969 L 8.566406 7.246094 C 8.839844 7.523438 9.285156 7.523438 9.5625 7.246094 L 10.722656 6.085938 L 13.378906 8.746094 L 13.945312 12.144531 Z M 13.375 6.75 L 12.378906 5.753906 L 14.738281 3.398438 C 16.019531 2.113281 17.726562 1.40625 19.542969 1.40625 L 20.386719 1.40625 L 20.386719 2.8125 L 19.542969 2.8125 C 18.101562 2.8125 16.75 3.375 15.730469 4.390625 Z M 13.375 6.75 "/>
            <path d="M 22.96875 8.914062 C 22.492188 8.09375 22.019531 7.410156 22 7.382812 C 21.867188 7.191406 21.652344 7.078125 21.421875 7.078125 C 21.191406 7.078125 20.976562 7.191406 20.84375 7.382812 C 20.824219 7.410156 20.351562 8.09375 19.875 8.914062 C 18.949219 10.511719 18.84375 11.171875 18.84375 11.53125 C 18.84375 12.953125 20 14.109375 21.421875 14.109375 C 22.84375 14.109375 24 12.953125 24 11.53125 C 24 11.171875 23.894531 10.511719 22.96875 8.914062 Z M 21.421875 12.703125 C 20.777344 12.703125 20.25 12.175781 20.25 11.53125 C 20.25 11.15625 20.789062 10.09375 21.421875 9.066406 C 22.054688 10.09375 22.59375 11.15625 22.59375 11.53125 C 22.59375 12.175781 22.066406 12.703125 21.421875 12.703125 Z M 21.421875 12.703125 "/>
            </g>
                      </svg>
                    </div>
                  <div class="pre">
                  <div class="amount">$10</div>
                            <label for="fuel" class="radio-tile-label">Fuel this creator</label>
          
                </div>
                </div>
              </div>
          
              <div class="input-container">
                <input id="ignite" class="radio-button" type="radio" name="radio" value="35"/>
                <div class="radio-tile">
                  <div class="icon ignite-icon">
                    <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
                      <path d="M0 0h24v24H0z" fill="none"/>
                      <g xmlns="http://www.w3.org/2000/svg" id="surface1">
          <path d="M 21 11.25 L 19.125 11.25 L 19.125 10.824219 C 19.785156 10.652344 20.25 10.058594 20.25 9.375 C 20.25 8.691406 19.785156 8.097656 19.125 7.925781 L 19.125 7.875 C 19.125 7.667969 18.957031 7.5 18.75 7.5 L 17.421875 7.5 C 17.792969 7.089844 18 6.554688 18 6 C 18 4.863281 16.242188 2.640625 16.042969 2.390625 C 15.96875 2.308594 15.863281 2.257812 15.75 2.257812 C 15.636719 2.257812 15.53125 2.308594 15.457031 2.390625 C 15.257812 2.640625 13.5 4.863281 13.5 6 C 13.5 6.554688 13.707031 7.089844 14.078125 7.5 L 12.75 7.5 C 12.542969 7.5 12.375 7.667969 12.375 7.875 L 12.375 11.25 L 12.335938 11.25 C 12.1875 10.515625 11.609375 9.9375 10.875 9.789062 L 10.875 1.125 C 10.875 0.917969 10.707031 0.75 10.5 0.75 L 4.5 0.75 C 3.464844 0.75 2.625 1.589844 2.625 2.625 L 2.625 10.125 C 2.625 11.160156 3.464844 12 4.5 12 L 8.664062 12 C 8.8125 12.734375 9.390625 13.3125 10.125 13.460938 L 10.125 21.375 C 10.125 22.410156 10.964844 23.25 12 23.25 L 19.5 23.25 C 20.535156 23.25 21.375 22.410156 21.375 21.375 L 21.375 11.625 C 21.375 11.417969 21.207031 11.25 21 11.25 Z M 19.125 8.730469 C 19.355469 8.863281 19.5 9.109375 19.5 9.375 C 19.5 9.640625 19.355469 9.886719 19.125 10.019531 Z M 10.125 12.683594 C 9.808594 12.566406 9.558594 12.316406 9.441406 12 L 10.125 12 Z M 10.125 11.25 L 4.5 11.25 C 3.878906 11.25 3.375 10.746094 3.375 10.125 L 3.375 2.625 C 3.375 2.003906 3.878906 1.5 4.5 1.5 L 10.125 1.5 Z M 15.75 3.234375 C 16.421875 4.136719 17.25 5.429688 17.25 6 C 17.246094 6.683594 16.785156 7.277344 16.125 7.449219 L 16.125 6 L 15.375 6 L 15.375 7.449219 C 14.714844 7.277344 14.253906 6.683594 14.25 6 C 14.25 5.429688 15.078125 4.136719 15.75 3.234375 Z M 13.125 8.25 L 18.375 8.25 L 18.375 11.25 L 13.125 11.25 Z M 10.875 10.566406 C 11.191406 10.683594 11.441406 10.933594 11.558594 11.25 L 10.875 11.25 Z M 20.625 21.375 C 20.625 21.996094 20.121094 22.5 19.5 22.5 L 12 22.5 C 11.378906 22.5 10.875 21.996094 10.875 21.375 L 10.875 12 L 20.625 12 Z M 20.625 21.375 "/>
          </g>
                    </svg>
                  </div>
                          <div class="pre">
          
                          <div class="amount">$35</div>
                    <label for="ignite" class="radio-tile-label">Ignite this creator</label>
                  </div>
          
                </div>
              </div>
          
              <div class="input-container">
                <input id="speed" class="radio-button" type="radio" name="radio" value="100"/>
                <div class="radio-tile">
                  <div class="icon speed-icon">
                    <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
                      <g xmlns="http://www.w3.org/2000/svg" id="surface1">
          <path d="M 14.71875 4.738281 C 10.714844 4.738281 7.457031 7.996094 7.457031 12 C 7.457031 16.003906 10.714844 19.261719 14.71875 19.261719 C 18.722656 19.261719 21.980469 16.003906 21.980469 12 C 21.980469 7.996094 18.722656 4.738281 14.71875 4.738281 Z M 14.71875 18.324219 C 11.230469 18.324219 8.394531 15.488281 8.394531 12 C 8.394531 8.511719 11.230469 5.675781 14.71875 5.675781 C 18.207031 5.675781 21.042969 8.511719 21.042969 12 C 21.042969 15.488281 18.207031 18.324219 14.71875 18.324219 Z M 14.71875 18.324219 "/>
          <path d="M 19.167969 11.53125 L 15.53125 11.53125 C 15.367188 11.25 15.066406 11.0625 14.71875 11.0625 C 14.632812 11.0625 14.554688 11.074219 14.476562 11.09375 L 13.617188 10.234375 C 13.433594 10.050781 13.136719 10.050781 12.953125 10.234375 C 12.769531 10.417969 12.769531 10.714844 12.953125 10.898438 L 13.8125 11.757812 C 13.792969 11.835938 13.78125 11.917969 13.78125 12 C 13.78125 12.519531 14.199219 12.9375 14.71875 12.9375 C 15.066406 12.9375 15.367188 12.75 15.53125 12.46875 L 19.167969 12.46875 C 19.429688 12.46875 19.636719 12.257812 19.636719 12 C 19.636719 11.742188 19.429688 11.53125 19.167969 11.53125 Z M 19.167969 11.53125 "/>
          <path d="M 14.71875 2.71875 C 11.671875 2.71875 8.964844 4.195312 7.269531 6.46875 L 3 6.46875 C 2.742188 6.46875 2.53125 6.679688 2.53125 6.9375 C 2.53125 7.195312 2.742188 7.40625 3 7.40625 L 6.65625 7.40625 C 6.367188 7.910156 6.125 8.445312 5.933594 9 C 5.925781 9 5.914062 9 5.90625 9 L 0.46875 9 C 0.210938 9 0 9.210938 0 9.46875 C 0 9.726562 0.210938 9.9375 0.46875 9.9375 L 5.667969 9.9375 C 5.550781 10.453125 5.476562 10.988281 5.449219 11.53125 L 3.65625 11.53125 C 3.398438 11.53125 3.1875 11.742188 3.1875 12 C 3.1875 12.257812 3.398438 12.46875 3.65625 12.46875 L 5.449219 12.46875 C 5.523438 13.964844 5.953125 15.367188 6.65625 16.59375 L 0.46875 16.59375 C 0.210938 16.59375 0 16.804688 0 17.0625 C 0 17.320312 0.210938 17.53125 0.46875 17.53125 L 7.269531 17.53125 C 8.964844 19.804688 11.671875 21.28125 14.71875 21.28125 C 19.835938 21.28125 24 17.117188 24 12 C 24 6.882812 19.835938 2.71875 14.71875 2.71875 Z M 14.71875 20.34375 C 10.117188 20.34375 6.375 16.601562 6.375 12 C 6.375 7.398438 10.117188 3.65625 14.71875 3.65625 C 19.320312 3.65625 23.0625 7.398438 23.0625 12 C 23.0625 16.601562 19.320312 20.34375 14.71875 20.34375 Z M 14.71875 20.34375 "/>
          <path d="M 14.71875 15.980469 C 14.59375 15.980469 14.472656 16.03125 14.386719 16.121094 C 14.300781 16.207031 14.25 16.328125 14.25 16.449219 C 14.25 16.574219 14.300781 16.695312 14.386719 16.78125 C 14.472656 16.871094 14.59375 16.917969 14.71875 16.917969 C 14.84375 16.917969 14.960938 16.871094 15.050781 16.78125 C 15.136719 16.695312 15.1875 16.574219 15.1875 16.449219 C 15.1875 16.328125 15.136719 16.207031 15.050781 16.121094 C 14.964844 16.03125 14.84375 15.980469 14.71875 15.980469 Z M 14.71875 15.980469 "/>
          <path d="M 14.71875 8.019531 C 14.84375 8.019531 14.964844 7.96875 15.050781 7.878906 C 15.136719 7.792969 15.1875 7.671875 15.1875 7.550781 C 15.1875 7.425781 15.136719 7.304688 15.050781 7.21875 C 14.964844 7.128906 14.84375 7.082031 14.71875 7.082031 C 14.59375 7.082031 14.472656 7.128906 14.386719 7.21875 C 14.300781 7.304688 14.25 7.425781 14.25 7.550781 C 14.25 7.671875 14.300781 7.792969 14.386719 7.878906 C 14.472656 7.96875 14.59375 8.019531 14.71875 8.019531 Z M 14.71875 8.019531 "/>
          <path d="M 10.269531 11.53125 C 10.144531 11.53125 10.023438 11.582031 9.9375 11.667969 C 9.847656 11.753906 9.800781 11.875 9.800781 12 C 9.800781 12.125 9.847656 12.246094 9.9375 12.332031 C 10.023438 12.417969 10.144531 12.46875 10.269531 12.46875 C 10.390625 12.46875 10.511719 12.417969 10.597656 12.332031 C 10.6875 12.246094 10.738281 12.125 10.738281 12 C 10.738281 11.875 10.6875 11.753906 10.597656 11.667969 C 10.511719 11.582031 10.390625 11.53125 10.269531 11.53125 Z M 10.269531 11.53125 "/>
          <path d="M 0.46875 15 L 3 15 C 3.257812 15 3.46875 14.789062 3.46875 14.53125 C 3.46875 14.273438 3.257812 14.0625 3 14.0625 L 0.46875 14.0625 C 0.210938 14.0625 0 14.273438 0 14.53125 C 0 14.789062 0.210938 15 0.46875 15 Z M 0.46875 15 "/>
          </g>
                      <path d="M0 0h24v24H0z" fill="none"/>
                    </svg>
                  </div>
                          <div class="pre">
          
                          <div class="amount">$100</div>
          <label for="speed" class="radio-tile-label">Accelerate growth</label>
                </div>
                </div>
              </div>
              
              <div class="input-container">
                <input id="speed" class="radio-button" type="radio" name="radio" value="custom"/>
                <div class="radio-tile">
                  <div class="custom">
                  
                  <div class="radio-tile-label">enter custom amount</div>
                
                   <input class="custom-amount" id="customAmount" type="number" placeholder="25"/>
                    </div>
          
                </div>
              </div>
            </div>
          </div>     
          
          
          <div id="smart-button-container">
            <div style="text-align: center;">
              <div style="margin-bottom: 1.25rem; display: none;">
                <p id="launchRoomDescription"></p>
                <select id="item-options"><option value="fuel" price="10">fuel - 10 USD</option><option value="ignite" price="35">ignite - 35 USD</option><option value="accelerate" price="100">accelerate - 100 USD</option></select>
                <select style="visibility: hidden" id="quantitySelect"></select>
              </div>
            <div id="paypal-button-container"></div>
            </div>
          </div>
          <script src="https://www.paypal.com/sdk/js?client-id=AXOUzbVs9Nxv8Qz3vF7fwrcByka_Hr67yHXQblPm7Xm40euXecB7UtfwzRpbm0_Z-Zn1je7FhQkBzujR&currency=USD" data-sdk-integration-source="button-factory"></script>
          <script>
            function initPayPalButton() {
              var shipping = 0;
              var itemOptions = document.querySelector("#smart-button-container #item-options");
          var quantity = parseInt();
          var quantitySelect = document.querySelector("#smart-button-container #quantitySelect");
          if (!isNaN(quantity)) {
            quantitySelect.style.visibility = "visible";
          }
          var orderDescription = '';
          if(orderDescription === '') {
            orderDescription = 'Item';
          }
          paypal.Buttons({
            env: 'sandbox',
    client: {
      sandbox: 'AXOUzbVs9Nxv8Qz3vF7fwrcByka_Hr67yHXQblPm7Xm40euXecB7UtfwzRpbm0_Z-Zn1je7FhQkBzujR',
      production: paypal.client_id
    },
            style: {
      shape: 'rect',
      color: 'black',
      layout: 'vertical',
      label: 'paypal',
      
    },
            createOrder: function(data, actions) {
                var selectedValue = document.querySelector('input[name="radio"]:checked').value;
                selectedValue = selectedValue === 'custom' ? document.querySelector('#customAmount').value : selectedValue;
                console.log(selectedValue);

              var selectedItemDescription = document.querySelector('input[name="radio"]:checked').value + 'contribution on LaunchRoom';
              //itemOptions.options[itemOptions.selectedIndex].value;
              var selectedItemPrice = parseFloat(selectedValue);
              var tax = (0 === 0) ? 0 : (selectedItemPrice * (parseFloat(0)/100));
              if(quantitySelect.options.length > 0) {
                quantity = parseInt(quantitySelect.options[quantitySelect.selectedIndex].value);
              } else {
                quantity = 1;
              }
      
              tax *= quantity;
              tax = Math.round(tax * 100) / 100;
              var priceTotal = quantity * selectedItemPrice + parseFloat(shipping) + tax;
              priceTotal = Math.round(priceTotal * 100) / 100;
              var itemTotalValue = Math.round((selectedItemPrice * quantity) * 100) / 100;
      
              return actions.order.create({
                purchase_units: [{
                  description: orderDescription,
                  amount: {
                    currency_code: 'USD',
                    value: priceTotal,
                    breakdown: {
                      item_total: {
                        currency_code: 'USD',
                        value: itemTotalValue,
                      },
                      shipping: {
                        currency_code: 'USD',
                        value: shipping,
                      },
                      tax_total: {
                        currency_code: 'USD',
                        value: tax,
                      }
                    }
                  },
                  items: [{
                    name: selectedItemDescription,
                    unit_amount: {
                      currency_code: 'USD',
                      value: selectedItemPrice,
                    },
                    quantity: quantity
                  }]
                }]
              });
            },
            onApprove: function(data, actions) {
              // window.addEventListener("flutterInAppWebViewPlatformReady", function(event) {
              //   var obj = {
              //       // 'payer': details.payer.name.given_name,
              //       'amount': selectedValue
              //   }
              var selectedValue = document.querySelector('input[name="radio"]:checked').value;
              selectedValue = selectedValue === 'custom' ? document.querySelector('#customAmount').value : selectedValue;
                window.flutter_inappwebview.callHandler('contributionMade', selectedValue).then(function(result) {
                // get result from Flutter side. It will be the number 64.
                    console.log(result);
                });
              // });
                
              return actions.order.capture().then(function(details) {
                alert('Transaction completed by ' + details.payer.name.given_name + '!');
              });
            },
            onError: function(err) {
              console.log(err);
            },
          }).render('#paypal-button-container');
        }
        initPayPalButton();
          </script>
          <script>
            // In order to call window.flutter_inappwebview.callHandler(handlerName <String>, ...args) 
            // properly, you need to wait and listen the JavaScript event flutterInAppWebViewPlatformReady. 
            // This event will be dispatched as soon as the platform (Android or iOS) is ready to handle the callHandler method. 
            window.addEventListener("flutterInAppWebViewPlatformReady", function(event) {
              // call flutter handler with name 'mySum' and pass one or more arguments
                  var creatorName = document.querySelector('#creatorName');

 
              window.flutter_inappwebview.callHandler('mySum', creatorName.innerText).then(function(result) {
                // get result from Flutter side. It will be the number 64.

                var selectedValue = document.querySelector('input[name="radio"]:checked').value === 'custom' ? document.querySelector('#customAmount').value : document.querySelector('input[name="radio"]:checked').value;
                console.log(result);
                document.querySelector('#creatorName').innerText = result;
                document.querySelector('#launchRoomDescription').innerHTML = "LaunchRoom contribution of "+selectedValue+ " to "+result;
              });
            });
         </script>
    </body>
</html>